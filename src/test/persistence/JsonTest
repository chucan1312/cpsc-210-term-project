package persistence;

import model.Category;
import model.Thingy;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class JsonTest {
    protected void checkProduct(String name, String id, Double unitPrice, Double sellingPrice, Integer quantity, Product p) {
        assertEquals(name, p.getName());
        assertEquals(id, p.getId());
        assertEquals(unitPrice, p.getUnitPrice());
        assertEquals(sellingPrice, p.getSellingPrice());
        assertEquals(quantity, p.getQuantity());
    }

    protected void checkPurchase(LocalDate date, Map<String, Integer> purchasedProducts, Double actualPaidAmount, String paymentMethod, Boolean reviewedStatus, Purchase p) {
        // Convert HashMap that contains Product as keys into it's ID, keeping the same values
        Map<Product, Integer> pp = p.getPurchasedProducts();
        Map<String, Integer> result = new HashMap<String, Integer>();
        for (Map.Entry<Product, Integer> entry : pp.entrySet()) {
            result.put(entry.getKey().getId(), entry.getValue());
        }

        assertEquals(date, p.getDate());
        assertEquals(purchasedProducts, result);
        assertEquals(actualPaidAmount, p.getActualPaidAmount());
        assertEquals(paymentMethod, p.getPaymentMethod());
        assertEquals(reviewedStatus, p.getReviewedStatus());
    }
}


